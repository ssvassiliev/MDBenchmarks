{% extends "base_generic.html" %}

{% block content %}

<div class="pt-4 border-0 text-left" style="background-image: url('/media/images/fig3.png'); height:200px;" >
<div class="col-sm-5 pt-5">
  <h3 >FIND THE OPTIMAL<br>SUBMISSION PARAMETERS</h3>
</div> 
</div>
{% endblock %}

{% block content2 %}
<div class="row gx-0" style="background-color: #eee;">
  <div class="col-sm-4">
    <div class="container-fluid pt-3">
      <div class="row justify-content-center">
        <div class="col-auto" >
          <div class="card border-0" style="background-color: #eee;">
            <div class="card-body">
                  <h3 class="card-title">ACCELERATE SIMULATIONS</h3>
              <div class="card-text p-2" style="background-color: #eee;">
                  <p class="pb-1"> A poor choice of job submission or simulation parameters leads to a poor performance and waste of computing resources. However, finding an optimal MD engines and submission parameters in a complex HPC environment with heterogeneous hardware is a daunting and time-consuming challenge. We developed this web portal to simplify this task.</p>
                  <p> Chart of the maximum simulation speed of all tested MD executables attained on CC systems provides a quick idea of how long a simulation will take. </p>
                  <p> The fastest simulations may be inefficient due to poor parallel scaling to many CPUs. Inefficient simulations consume more resources and impact priority, resulting in longer times in queue and less work done.</p>
                  <p> Color-coded by efficiency chart allows choosing an optimal combination of speed and efficiency.</p>
                  <p> Detailed views include submission commands and simulation input files required to reproduce the results and benchmark users' simulations. </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-8">
      <div class="container-fluid pt-3">
        <div class="row justify-content-center">
          <div class="col-auto" >
            <div class="card border-0" style="background-color: #eee;" >
              <div class="card-body">
                <h4 class="card-title">Maximum Speed</h4>
                <div class="card-img-top">
                   {% autoescape off %}
                   {{ figure }}
                   {% endautoescape %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>

<div class="row gx-0" style="background-color: #fff">
  <div class="col-sm-8" style="background-color: #fff">
      <div class="container-fluid pt-3">
        <div class="row justify-content-center">
          <div class="col-auto" >
            <div class="card border-0" >
              <div class="card-body">
                <h4 class="card-title" style="color: #B79754;">Cost of Simulations Using GPUs</h4>
                  <div class="card-img-top">
                    {% autoescape off %}
                      {{ figure_cost_gpu }}
                    {% endautoescape %}
                  </div>   
              </div>   
            </div>            
          </div>
        </div>
      </div>
  </div>

  <div class="col-sm-4">
    <div>
      <div class="container-fluid pt-3">
        <div class="row justify-content-center">
           <div class="col-auto" >
            <div class="card border-0" style="background-color: #fff;">
              <div class="card-body">
                   <h3 class="card-title" style="color: #B79754;" >REDUCE RESOURCE USAGE</h3>
                <div class="card-text p-2" style="background-color: #fff;">
                    <p class="pb-1"> Choosing the most efficient program does not guarantee that a simulation will use the minimal number of CPU/GPU cycles. Both speed and efficiency contribute to the total amount of consumed computing resources, the "cost" of a simulation.</p> 
                    <p> GPU usage is calculated in GPU equivalents per year. GPU equivalent is a bundle made up of a single GPU, a number of CPU cores, and some memory (CPU memory, not VRAM). Composition of GPU equivalents varies between systems. We use the best number of cores per GPU (the number needed for the fastest simulation time but not exceeding the maximum number of CPUs per GPU in a GPU equivalent).</p>
                
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row gx-0" style="background-color: #eee">

  <div class="col-sm-8" style="background-color: #eee">
    <div>
      <div class="container-fluid pt-3">
        <div class="row justify-content-center">
          <div class="col-auto" >
            <div class="card border-0" style="background-color: #eee" >
              <div class="card-body">
                  <h4 class="card-title pt-2" style="color: #B79754;">Cost of Simulations Using CPUs</h4>
                  <div class="card-img-top">
                    {% autoescape off %}
                      {{ figure_cost_cpu }}
                    {% endautoescape %}
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-4">
    <div>
      <div class="container-fluid pt-3">
        <div class="row justify-content-center">
           <div class="col-auto" >
            <div class="card border-0" style="background-color: #eee;">
              <div class="card-body">
                  <p> CPU usage is calculated in core equivalents per year. Core equivalent is a bundle made up of a single core, and some memory associated with it. For most of the systems one core equivalent includes 4000M per core.<p>    
                  <h3 class="card-title" style="color: #B79754;" >ACCESSING THE DATABASE</h3>
                <div class="card-text">
                    <p class="pb-2"> A detailed view of each benchmark accessed from the "Benchmark ID" form at the top-right provides essential details, such as simulation input and sbatch submission scripts.</p> 
                    <p>All benchmarks are available from the "Database" tab. When this page is visited for the first time no filters are applied, and the filter status is empty: "FILTERS: _ _ _ _ _ _ _"</p>   
                    </p>A subset of interest can be selected using a custom chain of filters. Selected database entries can be then downloaded as CSV files for further analysis or viewed in the Table below.</p>
                </div>                  
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="background-color: #222529">
    <div class="container-fluid pt-3">
        <div class="row justify-content-center">
            <div class="col-auto" >
                <div class="card" style="background-color: #35754c;" >
                    <div class="card-body">
                        <h3 class="card-title">BENCHMARK DETAILS</h3>
                        <div style="background-color: #eee;">
                            <table class="table table-hover">
                                {% include "mdbench/t_head.html" %}
                                {% for benchmark in benchmarks %}
                                <tr>
                                    {% include "mdbench/t_data.html" %}
                                </tr>   
                                {% endfor %}
                            </table>
                         </div>   
                     </div>
                 </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}