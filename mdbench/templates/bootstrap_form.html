{% extends "base_generic.html" %}

{%block content%}
<div class="card border-0 text-left pt-4" style="background-image: url('/media/images/fig3.png'); border-radius: 0;">
    <div class="card-title">
        <h3>FILTERS</h3>
    </div>
    <div class="card-body">
    <form method='GET' action = '.'>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input">
                            <label for="software_contains" class="form-label">Software name</label>
                            <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;" type="search" name = "software_contains" placeholder="namd2 .."/>
                        </div>            
                    </div>
                </div>
            </div>

        <div class="col-sm-3">
            <div class="form-group">
                <div class="input-group">
                    <div class="input" >
                        <label for="module_contains" class="form-label">Module name</label>
                       <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "module_contains" placeholder="namd-ucx .."/>
                    </div>            
                </div>
            </div>
        </div>

       <div class="col-sm-3">
            <div class="form-group">
                <div class="input-group">
                    <div class="input" >
                        <label for="module_version" class="form-label">Module version</label>
                        <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "module_version" placeholder="2.14 .."/>
                    </div>            
                </div>
            </div>
         </div>

        <div class="col-sm-3">
             <div class="form-group">
                <div class="input-group">
                    <div class="input">
                    <label for="site_comtains" class="form-label">Cluster</label>
                    <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "site_contains" placeholder="Narval .."/>
                    </div>            
                </div>
            </div>
        </div>
    </div>

    
    <div class="row">
            <div class="col-sm-3">
             <div class="form-group">
                 <div class="input-group">
                    <div class="input">
                       <label for="gpu_model" class="form-label">GPU model</label>
                        <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "gpu_model" placeholder="V100 .."/>
                    </div>            
                </div>
            </div>
        </div>

        <div class="col-sm-3">
             <div class="form-group">
                 <div class="input-group">
                    <div class="input">
                       <label for="arch" class="form-label">CPU instruction set</label>
                        <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "arch" placeholder="avx2 .."/>
                    </div>            
                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="form-group">
                <div class="input-group">
                    <div class="input">
                        <label for="dataset" class="form-label">Simulation system</label>
                        <input class="mb-1 form-control form-control-sm" style="background-color: #b7b796;"  type="search" name = "dataset" placeholder="6n4o .."/>
                    </div>            
                </div>
            </div>
        </div>
        <div class="col-sm-3 input-group-addon my-4">
            <span>
                <button class="mt-2 btn btn-sm btn-outline-light border-left-0 border" type="submit"><i class="fa fa-search"></i></button>
            </span>
        </div>
        </form>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <p style="color: #85b737;">FILTERS: {{querystr}}</p>
        </div>
        <div class="col-sm-6">
            <button class="btn btn-sm btn-outline-light"> <a style="color: #aaa" href="{% url 'export' %}">Download CSV</a> </button> </div>
            {{ csv_file }}
        </div>
    </div>
</div>
</div>
{% endblock content%}

{% block content2%}

<div style="background-color: #222529">
    <div class="container-fluid pt-3">
        <div class="row justify-content-center">
            <div class="col-auto" >
                 <div class="card" style="background-color: #35754c;" >
                    <div class="card-body">
                        <h3 class="card-title">SIMULATION SPEED</h3>
                        <div class="card-img-top">
                            {% autoescape off %}
                            {{ plot_div }}
                            {% endautoescape %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row gx-0" style="background-color: #222529">
<div class="col-sm-6">
<div style="background-color: #222529">
    <div class="container-fluid pt-3">
        <div class="row justify-content-center">
            <div class="col-auto" >
                 <div class="card" style="background-color: #35754c;" >
                    <div class="card-body">
                        <h3 class="card-title">COST OF SIMULATIONS USING CPU</h3>
                        <div class="card-img-top">
                            {% autoescape off %}
                            {{ plot_div_cost_cpu }}
                            {% endautoescape %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<div class="col-sm-6">
<div style="background-color: #222529">
    <div class="container-fluid pt-3">
        <div class="row justify-content-center">
            <div class="col-auto" >
                 <div class="card" style="background-color: #35754c;" >
                    <div class="card-body">
                        <h3 class="card-title">COST OF SIMULATIONS USING CPU</h3>
                        <div class="card-img-top">
                            {% autoescape off %}
                            {{ plot_div_cost_gpu }}
                            {% endautoescape %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    </div>
</div>


<div style="background-color:  #222529">
    <div class="container-fluid pt-3">
        <div class="row justify-content-center">
            <div class="col-auto" >
                <div class="card" style="background-color: #35754c;">
                    <div class="card-body">
                        <div class="card-title"><h3>BENCHMARK DETAILS</h3>
                        <button class="btn btn-sm btn-outline-light"> <a style="color: #aaa" href="{% url 'export' %}">Download CSV</a> </button> </div>
                        {{ csv_file }}
                         <div style="background-color: #eee;">
                             <table class="table table-hover">
                                 {% include "mdbench/t_head.html" %}
                                 {% for benchmark in queryset %}
                                 <tr>
                                     {% include "mdbench/t_data.html" %}
                                 </tr>   
                                 {% endfor %} 
                             </table>
                         </div>   
                   </div>
               </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

